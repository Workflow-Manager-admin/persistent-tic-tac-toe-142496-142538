{"is_source_file": true, "format": "Python (FastAPI)", "description": "This file is the main entry point for the backend API of a Tic Tac Toe game, defining various REST endpoints for player management, game creation, joining, moves, and game history, utilizing FastAPI framework with middleware and route handlers.", "external_files": ["models", "database", "core"], "external_methods": ["database.get_player_by_username", "database.create_player", "database.get_player", "database.create_game", "database.get_game", "database.join_game", "database.list_games", "database.update_game_board", "database.finish_game", "database.add_move", "database.get_moves_for_game", "core.is_valid_move", "core.make_move", "core.check_win", "core.check_draw", "core.next_turn"], "published": ["app"], "classes": [], "methods": [{"name": "health_check()", "description": "Health check endpoint returning system status.", "scope": "", "scopeKind": ""}, {"name": "api_create_player(player: models.PlayerCreate)", "description": "Creates a new player with unique username.", "scope": "", "scopeKind": ""}, {"name": "api_get_player(player_id: int = Path(..., gt=0, description=\"Player id\"))", "description": "Retrieves player information by ID.", "scope": "", "scopeKind": ""}, {"name": "api_create_game(game_req: models.GameCreate)", "description": "Creates a new Tic Tac Toe game with specified players.", "scope": "", "scopeKind": ""}, {"name": "api_join_game(game_id: int, join_req: models.PlayerCreate)", "description": "Allows a player to join an open game.", "scope": "", "scopeKind": ""}, {"name": "api_list_games(limit: int = 20)", "description": "Lists recent games.", "scope": "", "scopeKind": ""}, {"name": "api_get_game(game_id: int)", "description": "Retrieves details of a specific game.", "scope": "", "scopeKind": ""}, {"name": "api_submit_move(game_id: int, move: models.MoveCreate)", "description": "Submits a move for a game, updates game state, and checks for game conclusion.", "scope": "", "scopeKind": ""}, {"name": "api_game_history(game_id: int)", "description": "Retrieves the move history of a game.", "scope": "", "scopeKind": ""}, {"name": "List[List[Optional[str]]] _deserialize_board(board: Any)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["database.get_player_by_username", "database.create_player", "database.get_player", "database.create_game", "database.get_player", "database.join_game", "database.get_player", "database.list_games", "database.get_player", "database.get_player", "database.get_game", "database.get_player", "database.get_player", "database.get_game", "database.get_player", "database.get_player", "database.update_game_board", "database.finish_game", "database.add_move", "database.get_player", "database.get_game", "core.is_valid_move", "core.make_move", "core.check_win", "core.check_draw", "core.next_turn", "database.get_moves_for_game"], "search-terms": ["FastAPI", "tic_tac_toe_backend", "game creation", "player management", "move submission", "game history", "health check endpoint", "join game", "list games", "deserialize board"], "state": 2, "file_id": 3, "knowledge_revision": 18, "git_revision": "129c50a54a2a0a392e11457ff74b8593366ab577", "revision_history": [{"9": "2bfb02205a78a104300fc17786c58d0791fd319e"}, {"16": "2bfb02205a78a104300fc17786c58d0791fd319e"}, {"18": "129c50a54a2a0a392e11457ff74b8593366ab577"}], "ctags": [{"_type": "tag", "name": "_deserialize_board", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def _deserialize_board(board: Any) -> List[List[Optional[str]]]:$/", "language": "Python", "typeref": "typename:List[List[Optional[str]]]", "kind": "function", "signature": "(board: Any)"}, {"_type": "tag", "name": "api_create_game", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^async def api_create_game(game_req: models.GameCreate):$/", "language": "Python", "kind": "function", "signature": "(game_req: models.GameCreate)"}, {"_type": "tag", "name": "api_create_player", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^async def api_create_player(player: models.PlayerCreate):$/", "language": "Python", "kind": "function", "signature": "(player: models.PlayerCreate)"}, {"_type": "tag", "name": "api_game_history", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^async def api_game_history(game_id: int):$/", "language": "Python", "kind": "function", "signature": "(game_id: int)"}, {"_type": "tag", "name": "api_get_game", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^async def api_get_game(game_id: int):$/", "language": "Python", "kind": "function", "signature": "(game_id: int)"}, {"_type": "tag", "name": "api_get_player", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^async def api_get_player(player_id: int = Path(..., gt=0, description=\"Player id\")):$/", "language": "Python", "kind": "function", "signature": "(player_id: int = Path(..., gt=0, description=\"Player id\"))"}, {"_type": "tag", "name": "api_join_game", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^async def api_join_game(game_id: int, join_req: models.PlayerCreate):$/", "language": "Python", "kind": "function", "signature": "(game_id: int, join_req: models.PlayerCreate)"}, {"_type": "tag", "name": "api_list_games", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^async def api_list_games(limit: int = 20):$/", "language": "Python", "kind": "function", "signature": "(limit: int = 20)"}, {"_type": "tag", "name": "api_submit_move", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^async def api_submit_move(game_id: int, move: models.MoveCreate):$/", "language": "Python", "kind": "function", "signature": "(game_id: int, move: models.MoveCreate)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/persistent-tic-tac-toe-142496-142538/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "24df78f8754e48e58d2d530246ae01ae", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}]}